

//*******************Rich_06 编程规范*****************//
//                                                    //
//     本编码规范参考华为公司编码规范选取重要部分     //
//     完成，仅供Rich_06小组开发人员参考使用          //
//                                                    //
//****************************************************//


****************1、关于函数*************************

严格遵守：
1  一个函数仅完成一个功能
2  函数的代码块嵌套不能过深，新增函数的代码块嵌套不超过4层
3  对函数的错误返回码要全面处理
4  函数的参数个数不超过5个
5  除打印类函数外，不要使用可变长参函数
6  函数调用不要作为另一个函数的参数使用

建议：
1  重复代码应该尽可能提炼成函数
2  避免函数过长，新增函数不超过50行（非空非注释行）
3  废弃代码（没有被调用的函数和变量)要及时清除
4  建议函数不变参数使用const
5  函数应避免使用全局变量、静态局部变量和I/O操作，不可避免的地方应集中使用
6  检查函数所有非参数输入的有效性，如数据文件、公共变量等
7  在源文件范围内声明和定义的所有函数，除非外部可见，否则应该增加static关键字



****************2、关于标识符*********************

严格遵守：
1  本次编码统一采用unix风格，即单词用小写字母，每个单词用下划线'_'分割，例如game_rich
2  除了常见的缩写外，不使用单词缩写，不得使用汉语拼音
3  本次项目几位开发人员必须采用统一的命名风格
4  具有互斥意义的变量或相反动作的函数用正确的反义词组命名，如begin/end
5  标识符前不应添加模块、项目等名称作为前缀
6  重构/修改部分代码时，应保持和原有代码的命名风格一致

建议：
1  标识符的命名要清晰、明了，有明确含义，同时使用完整的单词或大家基本可以理解的缩写，避免使人产生误解
2  尽量避免名字中出现数字编号



*****************3、关于变量*********************

严格遵守：
1  禁止使用单字节命名变量，但允许定义i、j、k作为局部循环变量
2  一个变量只有一个功能，不能用作多种用途

建议：
1  全局变量应增加“g_”前缀
2  静态变量应增加“s_”前缀
3  结构功能单一；不要设计面面俱到的数据结构
4  不用或者少用全局变量
5  防止局部变量与全局变量同名
6  在首次使用前初始化变量，初始化的地方离使用的地方越近越好
7  尽量减少没有必要的数据类型默认转换与强制转换



******************5、关于宏*********************

严格遵守：
1  对于数值或者字符串等等常量的定义，采用全大写字母，单词之间加下划线_的方式命名（枚举同样建议使用此方式定义,例如#define PI_ROUNDED 3.14
2  除了头文件或编译开关等特殊标识定义，宏定义不能使用下划线_开头和结尾
3  用宏定义表达式时，要使用完备的括号
4  将宏所定义的多条表达式放在大括号中
5  使用宏时，不允许参数发生变化

建议：
1  除非必要，应尽可能使用函数代替宏
2  宏定义中尽量不使用return、goto、continue、break等改变程序流程的语句



*******************6、关于注释*******************

严格遵守：
1  注释的内容要清楚、明了，含义准确，防止注释二义性
2  在代码的功能、意图层次上进行注释，即注释解释代码难以直接表达的意图，而不是重复描述代码
3  注释应放在其代码上方相邻位置或右方，不可放在下面。如放于上方则需与其上面的代码用空行隔开，且与下方代码缩进相同
4  避免在一行代码或表达式的中间插入注释

建议：
1  修改代码时，维护代码周边的所有注释，以保证注释与代码的一致性。不再有用的注释要删除
2  对于switch语句下的case语句，如果因为特殊情况需要处理完一个case后进入下一个case处理，必须在该case语句处理完、下一个case语句前加上明确的注释



*******************7、关于排版与格式*****************

严格遵守：
1  程序块采用缩进风格编写，每级缩进为4个空格
2  相对独立的程序块之间、变量说明之后必须加空行
3  一条语句不能过长，如不能拆分需要分行写
4  多个短语句（包括赋值语句）不允许写在同一行内，即一行只写一条语句

建议：
1  if、for、do、while、case、switch、default等语句独占一行



*******************8、关于表达式********************

严格遵守：
1  赋值语句不要写在if等语句中，或者作为函数的参数使用
2  赋值操作符不能使用在产生布尔值的表达式上