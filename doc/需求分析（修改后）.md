#大富翁游戏（c版）需求规格说明书


| 版本               |   修订内容                             | 修订日期  | 修订人  |
| -------------------|:--------------------------------------:| ---------:| --------|
|  2.0               |对功能需求进行了优先级排序，删除了测试用例   | 2015-09-03  | 聂俊均  |

***

##目录


1、引言..................................................1

1.1编写目的...........................................1

1.2文档范围...........................................1

1.3参考资料...........................................1

2、产品概述..............................................1

2.1产品描述...........................................1

2.2产品功能...........................................2

2.2.1产品功能总图...................................2

2.2.2功能模块详细说明...............................2

3、产品功能需求..........................................6

3.1用户用例...........................................6

3.2玩家用例...........................................7

3.3系统用例...........................................14

4、附录..................................................16
****

##1、引言
###1.1 编写目的
人们的生活越来越离不开娱乐，因此开发一个大富翁游戏可以为大家的生活注入更多的乐趣。产品的开发离不开需求，这篇文档编写的目的即是对用户需求进行概括整理，帮助开发人员理解用户需求，从而开发出令用户满意的产品。

###1.2 文档范围
本文档主要用来管理开发人员与用户之间的沟通，主要包括产品的功能需求、用例场景等

###1.3 参考资料
（1）《软件工程》 钟珞 袁景凌主编，科学出版社

（2）《软件需求工程》 毋国庆、梁正平、袁梦霆、李勇华编

##2、产品概述
###2.1 产品描述
本产品旨在完成一款经典的大富翁游戏，具备该游戏基本的功能，为使用者带来乐趣。

大富翁是一款经典的策略游戏，支持2~4个玩家按照游戏规则轮流掷骰子，按点数在地图上行走，游戏过程中可完成的功能有买地、盖房、使用道具等。途经其他玩家的地盘需支付费用。

本产品实现的是一个完全基于命令行的大富翁游戏，不涉及图形界面开发。

###2.2 产品功能
####2.2.1 产品功能总图
![产品功能总图](https://s3.amazonaws.com/f.cl.ly/items/1a2n3l3v0N0n2K1J3R2u/1.png)
####2.2.2 功能模块详细说明
一、系统模块
（1）生成地图:运行程序时在命令行中自动生成矩形

S代表起点，在地图上的绝对位置是0；

0代表空地，分为3个地段，在地图上的上下两行分别是地段1和地段3，各有26块空地，地段1每块空地200元，地段3每块空地300元，右侧一列为地段2，有6块空地，每块空地500元；

T代表道具屋，包含路障、炸弹、机器娃娃3种道具；

G代表礼品屋，包含奖金（2000元）、点数卡（200点）、财神（路过其他玩家地产可免过路费，5轮内有效）3种礼品

M代表魔法屋，

H代表医院，玩家进入医院需轮空3次；

P代表监狱，玩家停留在监狱需轮空2次；

$代表矿地，可获取点数，在地图上从下至上分别为20、80、100、40、80、60点；

按顺时针方向进行游戏，每一块地有一个相对起点的距离值，S编号为0，最后一个矿地编号为69。

（2）游戏结束：当玩家资金低于0时，该玩家退出游戏，其占有的土地归还系统，初始化为空地，可供其他玩家购买。只剩一个玩家时，游戏结束，该玩家获胜。

二、用户模块
（1）初始化资金：初始化玩家的资金，范围为1000~50000（默认为10000）

（2）添加玩家：系统提示“请选择2－4位不重复玩家，输入编号即可（1.钱夫人；2.阿土伯；3.孙小美；4.金贝贝）；”，如输入12

（3）退出游戏：输入quit时强制退出游戏。

三、玩家模块
（1）玩家行走：控制台显示当前玩家姓名和颜色。在玩家掷骰子前，可选择使用道具和查询操作。

a.使用道具功能：道具包括炸弹、路障和机器娃娃。

放置炸弹的命令为bomb n,n为相对距离，负数表示后方，可放置到离当前位置前后10步的距离（即-10<=n<=10），任一玩家经过该位置将被炸伤，送往医院住院3天；

放置路障的命令为block n,n表示相对距离，负数表示后方，可放置到离当前位置前后10步的距离（即-10<=n<=10），任一玩家经过该位置时，都将被拦截；

机器娃娃可用来清扫前方路面上10步内的其它道具，如炸弹、路障，使用命令为robot。该道具一次有效。

b.查询操作：使用命令为query,将显示玩家资产信息

玩家的资产包括四类：资金（可用于购地、盖房、支付过路费）、点数（用于购买道具，经过矿地时可获得）、固定资产（即玩家占有的土地、楼房）、道具（即炸弹、路障、机器娃娃）。

c.掷骰子：命令为roll,通过step n命令指定行走任意的步数，掷骰子后，玩家所对应的位置将显示为玩家的名字拼音首字母缩写，如钱夫人显示为“Q”，玩家显示的符号覆盖当前位置的地产符号。

（2）土地管理：根据玩家所停留位置的不同，玩家有不同的选择

a.空地购买：玩家停留在未被购买的空地上时，系统提示是否购买，购买成功后空地符号0变为当前玩家颜色，表示被该玩家占有。

b.土地升级：玩家停留在自己的空地或楼房处，系统提示是否升级，升级成功则该位置符号变为相应级别房屋的符号。房屋分为三级，0代表空地，1代表茅屋，2代表洋房，3代表摩天楼。

c.过路费：停留在其他玩家的房产上时，需支付相应过路费，费用为该处房产价值的1/2，如果财神附身，可免过路费，此时系统给出提示：“财神附身，可免过路费”。如果地产主人在医院或监狱，也可免过路费。

（3）房产出售：轮到玩家时，可以出售自己的任意房产，出售价格为投资总成本的2倍，命令为sell n，n为房产在地图上的绝对位置。

（4）道具屋：玩家停留在道具屋时，系统提示：“欢迎光临道具屋，请选择您所需要的道具”。通过输入编号选择道具：

1代表路障，价格为50点，显示方式为#；

2代表机器娃娃，价格为30点；

3代表炸弹，价格为50点，显示方式为@；

每位玩家最多拥有10个道具。如果玩家点数不足，则自动退出道具屋，按“F”可手动退出道具屋。

（5）礼品屋：玩家停留在礼品屋时，系统提示：“欢迎光临礼品屋，请选择一件您喜欢的礼品”。通过输入编号选择礼品，

1代表奖金（2000元）；

2代表点数卡（200点）；

3代表财神；

只能选择一件礼品，选择完成自动退出礼品屋，输入错误也自动退出，视为放弃选择，礼品即时生效。

（6）魔法屋：玩家进入魔法屋，可施展魔法。

（7）帮助：使用命令为help,在该模块下显示各个命令的使用说明。

3、产品功能需求


| 功能模块名称       |内容描述                                |需求优先级|
| -------------------|:--------------------------------------:| ---------|
|  生成地图          |生成全是空地的地图                      |  1       |
|  初始化玩家        | 初始化资金和玩家人数                   |  1       |
|  命令解析          |对玩家输入的命令进行解析并执行相应的动作|  1       |
|  设置路障          |玩家可以购买路障并使用                  |  2       |
|  增加道具店        |土地上随机生成道具店，玩家用点数购买道具|  2       | 
|  设置玩家颜色      |每个角色有不同颜色，在地图上属于该玩家的土地标记为相应颜色|  3       |
|  多种道具和魔法    |玩家可以购买使用多种道具和魔法          |  4       |





4、附录
命令一览表：

命令	功能说明	参数说明

Roll	掷骰子命令

Sell n	轮到玩家时，可出售自己的任意房产，出售价格为投资总成本的2倍	N为房产在地图上的绝对位置

Block n	玩家可将路障放置到离当前位置前后10步的任何位置，任一玩家经过路障，将被拦截。该道具一次有效	N为前后的相对距离，负数表示后方。

Bomb n	玩家可将炸弹放置到离当前位置前后10步的任何位置，任一玩家经过路障，将被炸伤，送往医院，住院3天	N为前后的相对距离，负数表示后方。

Robot	使用该道具，可清除前方路面上10步内的任何其他道具，如炸弹、路障

Query	显示自家资产信息

Help	查看命令帮助

Quit	强制退出

Step n	遥控骰子	N为指定的步数